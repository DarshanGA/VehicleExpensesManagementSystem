<div class="modal-backdrop fade show"></div>

<div class="custom-modal shadow rounded-3 bg-white p-4" role="dialog">
  <!-- Close button -->
  <button
    type="button"
    class="btn-close position-absolute top-0 end-0 m-3"
    (click)="closeForm()"
  ></button>

  <h5 class="mb-4">{{ addVehicleFormTitle }}</h5>

  <!--Scrollable wrapper-->
  <div class="modal-body-scrollable">
    <!-- Form Fields -->
    <form [formGroup]="form">
      <!--First Dropdown-->
      <div class="row">
        <div class="col-md-6 mb-3">
          <label for="vehicleType" class="form-label"
            >Vehicle Type <span>*</span></label
          >
          <select
            id="vehicleType"
            class="form-select"
            formControlName="vehicleType"
          >
            <option value="">-- Select a Type --</option>
            @for(vehicleType of vehicleTypesOption; track vehicleType){

            <option [value]="vehicleType">{{ vehicleType }}</option>
            }
          </select>
          @if(form.get("vehicleType")?.touched &&
          form.get("vehicleType")?.invalid){

          <div class="text-danger small">
            {{ vehicleTypeMandatorWarning }}
          </div>
          }
        </div>

        <!--Second Dropdown-->
        <div class="col-md-6 mb-3">
          <label for="fuelType" class="form-label"
            >Fuel Type <span>*</span></label
          >
          <select id="fuelType" class="form-select" formControlName="fuelType">
            <option value="">-- Select a Type --</option>
            @for(fuelType of fuelTypeOptions; track fuelType){

            <option [value]="fuelType">{{ fuelType }}</option>
            }
          </select>
          @if((form.get("fuelType")?.touched || form.get("fuelType")?.dirty) &&
          form.get("fuelType")?.invalid){

          <div class="text-danger small">
            {{ fuelTypeMandatoryWarning }}
          </div>
          }
        </div>
      </div>

      <!--Vehicle Name Input field-->
      <div class="row">
        <div class="col-12 mb-3">
          <label for="vehicleName" class="form-label"
            >Vehicle Name <span>*</span></label
          >
          <input
            id="vehicleName"
            type="text"
            class="form-control"
            formControlName="vehicleName"
            placeholder="Enter vehicle name"
          />
          @if((form.get('vehicleName')?.touched ||
          form.get('vehicleName')?.dirty ) && form.get("vehicleName")?.invalid){

          <div class="text-danger small">
            Title is required (min 3, max 100 characters).
          </div>
          }
        </div>
      </div>

      <!--Its Description field-->
      <div class="row">
        <div class="col-12 mb-4">
          <label for="description" class="form-label">Description</label>
          <textarea
            id="description"
            class="form-control"
            formControlName="vehicleDescription"
            rows="3"
            placeholder="Enter detailed description"
          ></textarea>
          @if((form.get("vehicleDescription")?.touched ||
          form.get("vehicleDescription")?.dirty) &&
          form.get("vehicleDescription")?.invalid){

          <div class="text-danger small">
            Description accepts only upto 255 characters.
          </div>
          }
        </div>
      </div>

      <!--Image upload area-->
      <div class="row">
        <div class="col-12 mb-3">
          <label for="image" class="form-label">Upload Image</label>
          <input type="file" class="form-control" id="image" accept="image/*" />
        </div>
      </div>

      <!-- Fifth Row: Accordion for specification info -->
      <div class="accordion mb-3" id="formAccordion">
        <div class="accordion-item">
          <h2 class="accordion-header" id="extraSectionHeader">
            <button
              class="accordion-button collapsed"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#extraSection"
              aria-expanded="false"
              aria-controls="extraSection"
            >
              Specifications
            </button>
          </h2>
          <div
            id="extraSection"
            class="accordion-collapse collapse"
            aria-labelledby="extraSectionHeader"
            data-bs-parent="#formAccordion"
          >
            <div class="accordion-body">
              <!-- ðŸ§ª Placeholder content -->
              <div class="mb-3">
                <label for="placeholder1" class="form-label"
                  >Placeholder Field 1</label
                >
                <input
                  type="text"
                  id="placeholder1"
                  class="form-control"
                  placeholder="Placeholder input"
                />
              </div>
              <div class="mb-3">
                <label for="placeholder2" class="form-label"
                  >Placeholder Field 2</label
                >
                <input
                  type="text"
                  id="placeholder2"
                  class="form-control"
                  placeholder="Placeholder input"
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      <button type="submit" class="btn btn-primary">Save</button>
    </form>
  </div>
</div>
